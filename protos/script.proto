// Put the basic example for grpc using proto2 here

syntax = "proto2";

package script;

message Request {
  required string peer_id = 1;
  required bytes data = 2;
  optional uint64 seq = 3;
}

message Response { required bytes data = 1; }

message Empty {}

message SendResponse {
  required uint64 seq = 1;
  required Response response = 2;
}

message Discovered { required string peer_id = 1; }

service ReqResp {
  rpc Send(Request) returns (Response) {}

  rpc Recv(Empty) returns (stream Request) {}

  rpc Respond(SendResponse) returns (Empty) {}
}

service Discovery {
  rpc Discover(Empty) returns (stream Discovered) {}
}
